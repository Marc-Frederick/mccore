#                            -*- Mode: Makefile -*-
# Makefile.in
# Copyright © 2000-04 Laboratoire de Biologie Informatique et Théorique.
#                     Université de Montréal.
# Author           : Martin Larose <larosem@iro.umontreal.ca>
# Created On       : Tue Sep 19 18:10:38 2000
# $Revision: 1.18 $
# $Id: Makefile.in,v 1.18 2006-04-18 15:31:16 thibaup Exp $
#
#  This file is part of mccore.
#  
#  mccore is free software; you can redistribute it and/or
#  modify it under the terms of the GNU Lesser General Public
#  License as published by the Free Software Foundation; either
#  version 2.1 of the License, or (at your option) any later version.
#  
#  mccore is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
#  Lesser General Public License for more details.
#  
#  You should have received a copy of the GNU Lesser General Public
#  License along with mccore; if not, write to the Free Software
#  Foundation, Inc., 59 Temple Place, Suite 330, Boston, MA  02111-1307  USA


PACKAGE = @PACKAGE@
VERSION = @VERSION@

srcdir = @srcdir@
VPATH = @srcdir@

@SET_MAKE@

prefix = @prefix@
exec_prefix = @exec_prefix@
datadir = @datadir@
includedir = @includedir@
libdir = @libdir@

INSTALL = @INSTALL@
INSTALL_DATA = @INSTALL_DATA@
INSTALL_PROGRAM = @INSTALL_PROGRAM@

SUBDIRS = lib test docs

RELEASESUBDIRS = $(SUBDIRS)

DISTFILES = COPYING ChangeLog INSTALL Makefile.in NEWS README config.guess \
config.h.in config.sub configure.in configure install-sh mkinstalldirs \
stamp-h.in


.SUFFIXES:
.PHONY: test doc



all static doc test:
	@ for subdir in $(SUBDIRS); do \
	   echo "Building $@ in $$subdir"; \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done

install install-static install-doc:
	@ for subdir in $(SUBDIRS); do \
	   echo "Building $@ in $$subdir"; \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done
	@ $(srcdir)/mkinstalldirs $(datadir)/$(PACKAGE)/$(VERSION)/doc
	@ for file in ChangeLog NEWS README; do \
           $(INSTALL_DATA) $(srcdir)/$$file $(datadir)/$(PACKAGE)/$(VERSION)/doc; \
	  done

uninstall:
	@ for file in ChangeLog NEWS README; do \
           rm -f $(datadir)/$(PACKAGE)/$(VERSION)/doc/$$file; \
	  done
	@ for subdir in $(SUBDIRS); do \
	   echo Making $@ in $$subdir; \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done
	@- rmdir -p $(datadir)/$(PACKAGE)/$(VERSION)/doc

uninstall-doc:
	@ for subdir in $(SUBDIRS); do \
	   echo Making $@ in $$subdir; \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done

mostlyclean: mostlyclean-recursive mostlyclean-local

mostlyclean-local:

clean: clean-recursive clean-local

clean-local: mostlyclean-local

distclean: distclean-recursive distclean-local

distclean-local: clean-local
	@ rm -f Makefile config.cache config.h config.log config.status stamp-h

topclean: topclean-recursive topclean-local

topclean-local: distclean-local

mostlyclean-recursive clean-recursive distclean-recursive topclean-recursive:
	@ for subdir in $(SUBDIRS); do \
	   target=`echo $@ | sed 's/-recursive//'`; \
	   echo Making $$target in $$subdir; \
	   (cd $$subdir && $(MAKE) $$target) || exit 1; \
	  done

release:
	@ rm -fr $(PACKAGE)-$(VERSION)
	@ rm -f $(PACKAGE)-$(VERSION).tar.gz
	@ mkdir $(PACKAGE)-$(VERSION)
	@ chmod 777 $(PACKAGE)-$(VERSION)
	@ for file in INSTALL NEWS README; do \
	   ln -s ../$(srcdir)/$$file $(PACKAGE)-$(VERSION)/$$file; \
	  done
	@ for subdir in $(RELEASESUBDIRS); do \
	   mkdir $(PACKAGE)-$(VERSION)/$$subdir; \
	   chmod 777 $(PACKAGE)-$(VERSION)/$$subdir; \
	  done
	@ for subdir in $(SUBDIRS); do \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done
	@ chmod -R a+r $(PACKAGE)-$(VERSION)
	@ tar chof $(PACKAGE)-$(VERSION).tar $(PACKAGE)-$(VERSION)
	@ gzip -9 $(PACKAGE)-$(VERSION).tar
	@ rm -fr $(PACKAGE)-$(VERSION)

dist:
	@ rm -fr $(PACKAGE)-$(VERSION)
	@ mkdir $(PACKAGE)-$(VERSION)
	@ chmod 777 $(PACKAGE)-$(VERSION)
	@ echo Copying distribution files
	@ for file in $(DISTFILES); do \
	   ln $(srcdir)/$$file $(PACKAGE)-$(VERSION) 2> /dev/null \
	     || cp -p $(srcdir)/$$file $(PACKAGE)-$(VERSION); \
	  done
	@ for subdir in $(SUBDIRS); do \
	   echo Making $@ in $$subdir; \
	   mkdir $(PACKAGE)-$(VERSION)/$$subdir; \
	   chmod 777 $(PACKAGE)-$(VERSION)/$$subdir; \
	   (cd $$subdir && $(MAKE) $@) || exit 1; \
	  done
	@ chmod -R a+r $(PACKAGE)-$(VERSION)
	@ tar chof $(PACKAGE)-$(VERSION).tar $(PACKAGE)-$(VERSION)
	@ gzip -9 $(PACKAGE)-$(VERSION).tar
	@ rm -fr $(PACKAGE)-$(VERSION)



$(srcdir)/configure: $(srcdir)/configure.in
	@ cd $(srcdir) && autoconf

$(srcdir)/config.h.in: $(srcdir)/stamp-h.in

$(srcdir)/stamp-h.in: $(srcdir)/configure.in
	@ echo timestamp > $@

config.h: stamp-h

stamp-h: $(srcdir)/config.h.in config.status
	@ CONFIG_FILES= CONFIG_HEADERS=config.h ./config.status
	@ echo timestamp > $@

Makefile: $(srcdir)/Makefile.in config.status stamp-h
	@ ./config.status $@

config.status: $(srcdir)/configure
	@ ./config.status --recheck

# Tell versions [3.59,3.63) of GNU make not to export all variables.
# Otherwise a system limit (for SysV at least) may be exceeded.
.NOEXPORT:
